

# this code adds frequently > 200 MB at heap and removes it repeatedly
class heaplist:
    def __init__(self) -> None:
        self.c = [ i for i in range(0,6000000)]
        return


import time 
condition = 0
while True:
    c = heaplist()
    #print('after', psutil.Process().memory_info().rss / (1024 * 1024))
    time.sleep(1)
    del c 
    #print('after delection', psutil.Process().memory_info().rss / (1024 * 1024))
    condition +=1
    #print(memory_usage(-1, interval=.5, timeout=1))


# print ("Finished in ", datetime.now() - startTime)